#pragma checksum "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "deb43e2200901f43c193eca6fa0f116378dab46b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Contract_ContractDetail), @"mvc.1.0.view", @"/Views/Contract/ContractDetail.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Contract/ContractDetail.cshtml", typeof(AspNetCore.Views_Contract_ContractDetail))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 16 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
using DAL;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"deb43e2200901f43c193eca6fa0f116378dab46b", @"/Views/Contract/ContractDetail.cshtml")]
    public class Views_Contract_ContractDetail : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<DAL.Models.Contract.ContractLayoutViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datepicker/datepicker3.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatables-bs4/css/dataTables.bootstrap4.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/jquery.validate.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datepicker/bootstrap-datepicker.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatable/jquery.datatable.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatables-bs4/js/dataTables.bootstrap4.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/custom-thousands-separator/dist/number-divider.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 2 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
  
    ViewData["Title"] = Model.Contract.Id != 0 ? "Hợp đồng: " + Model.Contract.Code : "Thông tin hợp đồng";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string hideAction = string.Empty;

    if (Model.Contract.Status != Contanst.ContractStatus_Nhap)
    {
        hideAction = "style=display:none";
    }



#line default
#line hidden
            DefineSection("styles", async() => {
                BeginContext(414, 8, true);
                WriteLiteral("\r\n\r\n    ");
                EndContext();
                BeginContext(422, 69, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "deb43e2200901f43c193eca6fa0f116378dab46b6615", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(491, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(497, 87, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "deb43e2200901f43c193eca6fa0f116378dab46b7947", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(584, 463, true);
                WriteLiteral(@"

    <style>
        #btn-add-todetail {
            font-size: 9pt !important;
        }

        .text-display-money {
            position: relative;
            top: 4px;
            font-size: 14pt;
        }

        .typeahead {
            width: 100% !important;
        }

        .badge-status {
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 0px !important;
        }
    </style>
");
                EndContext();
            }
            );
            BeginContext(1050, 157, true);
            WriteLiteral("<section class=\"content-header\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-sm-6\">\r\n                <h1>");
            EndContext();
            BeginContext(1209, 17, false);
#line 50 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                Write(ViewData["Title"]);

#line default
#line hidden
            EndContext();
            BeginContext(1227, 294, true);
            WriteLiteral(@"</h1>
            </div>
            <div class=""col-sm-6"">
                <ol class=""breadcrumb float-sm-right"">
                    <li class=""breadcrumb-item"">
                        <input type=""button"" value=""Lưu"" class=""btn btn-warning"" id=""btn-save"" style=""margin-right:5px;"" />
");
            EndContext();
#line 56 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                          

                            if (Model.Contract.Id == 0)
                            {

                            }
                            else
                            {
                                if (Model.Contract.Status == Contanst.ContractStatus_Nhap)
                                {

                                    if ((Model.Contract.CreatedBy.ToUpper() == Model.UserLogin.ToUpper() || Model.UserRole == Contanst.Role_QuanLy))
                                    {

#line default
#line hidden
            BeginContext(2055, 273, true);
            WriteLiteral(@"                                        <input type=""button"" value=""Gửi duyệt"" class=""btn btn-warning"" id=""btn-send-approver"" style=""margin-right:5px;"" />
                                        <input type=""button"" value=""Huỷ"" class=""btn btn-warning"" id=""btn-cancel"" />
");
            EndContext();
#line 71 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                    }

                                }
                            }






                            int numApproved = Model.LstStatusHistory.Where(x => x.status == Contanst.ContractStatus_DaDuyet).Count();
                            if (numApproved < 2
                                && Model.Contract.Status == Contanst.ContractStatus_ChoDuyet)
                            {
                                var infoApproved = Model.LstStatusHistory.Where(x => x.status == Contanst.ContractStatus_DaDuyet && x.actionBy == Model.UserLogin).FirstOrDefault();
                                if (infoApproved == null && Model.UserRole == Contanst.Role_BGD)
                                {

#line default
#line hidden
            BeginContext(3072, 296, true);
            WriteLiteral(@"                                    <input type=""button"" value=""Duyệt"" class=""btn btn-warning"" id=""btn-approve"" style=""margin-right:5px;"" />
                                    <input type=""button"" value=""Từ chối"" class=""btn btn-warning"" id=""btn-open-reject-modal"" style=""margin-right:5px;"" />
");
            EndContext();
#line 90 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                }

                            }

                        

#line default
#line hidden
            BeginContext(3465, 703, true);
            WriteLiteral(@"

                    </li>

                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<section class=""content"">
    <div class=""col-sm-12"">
        <div class=""card card-primary card-outline card-tabs"">
            <div class=""card-header p-0 pt-1 border-bottom-0"">
                <ul class=""nav nav-tabs"" id=""custom-tabs-three-tab"" role=""tablist"">
                    <li class=""nav-item"">
                        <a class=""nav-link active"" id=""contract-info-tab"" data-toggle=""pill"" href=""#contract-info-tab-content"" role=""tab"" aria-controls=""custom-tabs-three-home"" aria-selected=""true"">THÔNG TIN HỢP ĐỒNG</a>
                    </li>
");
            EndContext();
#line 112 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                      
                        if (Model.Contract.Id > 0)
                        {


#line default
#line hidden
            BeginContext(4273, 1255, true);
            WriteLiteral(@"                            <li class=""nav-item"">
                                <a class=""nav-link"" id=""thu-tab"" data-toggle=""pill"" href=""#contract-history-thu-tab-content"" role=""tab"" aria-controls=""custom-tabs-three-messages"" aria-selected=""false"">KHOẢNG THU</a>
                            </li>
                            <li class=""nav-item"">
                                <a class=""nav-link"" id=""chi-tab"" data-toggle=""pill"" href=""#contract-history-chi-tab-content"" role=""tab"" aria-controls=""custom-tabs-three-messages"" aria-selected=""false"">KHOẢNG CHI</a>
                            </li>
                            <li class=""nav-item"">
                                <a class=""nav-link"" id=""promotion-tab"" data-toggle=""pill"" href=""#contract-promotion-tab-content"" role=""tab"" aria-controls=""custom-tabs-three-messages"" aria-selected=""false"">DANH SÁCH THIẾT BỊ ĐÃ CẤP</a>
                            </li>
                            <li class=""nav-item"">
                                <a class=""nav");
            WriteLiteral("-link\" id=\"promotion-money-tab\" data-toggle=\"pill\" href=\"#contract-promotion-money-tab-content\" role=\"tab\" aria-controls=\"custom-tabs-three-messages\" aria-selected=\"false\">DANH SÁCH CẤP TIỀN</a>\r\n                            </li>\r\n");
            EndContext();
#line 128 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                        }
                    

#line default
#line hidden
            BeginContext(5578, 421, true);
            WriteLiteral(@"


                </ul>
            </div>
            <div class=""card-body"">
                <form class=""form-horizontal"" id=""form-contract"">
                    <div class=""tab-content"" id=""custom-tabs-three-tabContent"">
                        <div class=""tab-pane fade active show"" id=""contract-info-tab-content"" role=""tabpanel"" aria-labelledby=""custom-tabs-three-home-tab"">

                            ");
            EndContext();
            BeginContext(6000, 34, false);
#line 140 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                       Write(Html.HiddenFor(x => x.Contract.Id));

#line default
#line hidden
            EndContext();
            BeginContext(6034, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(6065, 38, false);
#line 141 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                       Write(Html.HiddenFor(x => x.Contract.Status));

#line default
#line hidden
            EndContext();
            BeginContext(6103, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(6134, 42, false);
#line 142 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                       Write(Html.HiddenFor(x => x.Contract.StaffRefer));

#line default
#line hidden
            EndContext();
            BeginContext(6176, 421, true);
            WriteLiteral(@"
                            <div class=""row"">
                                <div class=""col-md-6"">
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Tên KH *</label>
                                        <div class=""col-sm-9"">
                                            <input type=""text"" id=""Contract_CustomerName""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 6597, "\"", 6635, 1);
#line 148 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 6605, Model.Contract.CustomerName, 6605, 30, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(6636, 516, true);
            WriteLiteral(@" class=""form-control"" name=""Contract.CustomerName"" autocomplete=""off"" autofocus placeholder=""Tìm theo mã hoặc tên"">
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Mã KH</label>
                                        <div class=""col-sm-7"">
                                            <input type=""text"" class=""form-control""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 7152, "\"", 7190, 1);
#line 154 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 7160, Model.Contract.CustomerCode, 7160, 30, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(7191, 2489, true);
            WriteLiteral(@" readonly=""readonly"" id=""Contract_CustomerCode"" value="""" name=""Contract.CustomerCode"" />
                                        </div>

                                        <div class=""col-sm-2"">
                                            <input type=""button"" class=""btn btn-primary btn-sm"" id=""btn-open-cust"" value=""Sửa KH"" />
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Điện thoại</label>
                                        <div class=""col-sm-9"">
                                            <input type=""text"" class=""form-control"" readonly=""readonly"" id=""txt-objphone"" value="""" />
                                        </div>
                                    </div>

                                    <div class=""form-group row"">
                                        <label class=""col-form-label c");
            WriteLiteral(@"ol-sm-3"">Địa chỉ</label>
                                        <div class=""col-sm-9"">
                                            <input type=""text"" class=""form-control"" readonly=""readonly"" id=""txt-objaddress"" value="""" />
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">MST</label>
                                        <div class=""col-sm-9"">
                                            <input type=""text"" class=""form-control"" readonly=""readonly"" id=""txt-objtaxcode"" value="""" />
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Người đại diện</label>
                                        <div class=""col-sm-9"">
                     ");
            WriteLiteral(@"                       <input type=""text"" class=""form-control"" readonly=""readonly"" id=""txt-objcontactname"" value="""" />
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Định hướng</label>
                                        <div class=""col-sm-9"">
");
            EndContext();
#line 189 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                              
                                                string checkedDaDinhHuong = Model.Contract.Orientated ? "checked='checked'" : string.Empty;
                                                string checkedChuaDinhHuong = !Model.Contract.Orientated ? "checked='checked'" : string.Empty;
                                            

#line default
#line hidden
            BeginContext(10060, 104, true);
            WriteLiteral("                                            <input type=\"radio\" name=\"Contract.Orientated\" value=\"true\" ");
            EndContext();
            BeginContext(10166, 18, false);
#line 193 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                    Write(checkedDaDinhHuong);

#line default
#line hidden
            EndContext();
            BeginContext(10185, 150, true);
            WriteLiteral(" /> &nbsp; Đã định hướng &nbsp;&nbsp;&nbsp;\r\n                                            <input type=\"radio\" name=\"Contract.Orientated\" value=\"false\" ");
            EndContext();
            BeginContext(10337, 20, false);
#line 194 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                     Write(checkedChuaDinhHuong);

#line default
#line hidden
            EndContext();
            BeginContext(10358, 556, true);
            WriteLiteral(@" /> &nbsp; Chưa định hướng
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Ngày định hướng</label>
                                        <div class=""col-sm-9"">
                                            <div class=""input-group date"">
                                                <input type=""text"" id=""Contract_OrientatedDate"" name=""Contract.OrientatedDate""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 10914, "\"", 11033, 1);
#line 201 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 10922, Model.Contract.OrientatedDate.HasValue?Model.Contract.ContractDate.Value.ToString("dd/MM/yyyy"):string.Empty, 10922, 111, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(11034, 543, true);
            WriteLiteral(@" class=""form-control"">
                                                <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Tổ chức hội STEM</label>
                                        <div class=""col-sm-9"">
");
            EndContext();
#line 209 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                              
                                                string checkedStemFestival = Model.Contract.StemFestival ? "checked='checked'" : string.Empty;
                                                string checkedStemFestivalNotyet = !Model.Contract.StemFestival ? "checked='checked'" : string.Empty;
                                            

#line default
#line hidden
            BeginContext(11967, 106, true);
            WriteLiteral("                                            <input type=\"radio\" name=\"Contract.StemFestival\" value=\"true\" ");
            EndContext();
            BeginContext(12075, 19, false);
#line 213 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                      Write(checkedStemFestival);

#line default
#line hidden
            EndContext();
            BeginContext(12095, 160, true);
            WriteLiteral(" /> &nbsp; Tổ chức ngày hội STEM &nbsp;&nbsp;&nbsp;\r\n                                            <input type=\"radio\" name=\"Contract.StemFestival\" value=\"false\" ");
            EndContext();
            BeginContext(12257, 25, false);
#line 214 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                       Write(checkedStemFestivalNotyet);

#line default
#line hidden
            EndContext();
            BeginContext(12283, 577, true);
            WriteLiteral(@" /> &nbsp; Chưa tổ ngày chức hội STEM
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Ngày tổ chức hội STEM</label>
                                        <div class=""col-sm-9"">
                                            <div class=""input-group date"">
                                                <input type=""text"" id=""Contract_StemFestivalDate"" name=""Contract.StemFestivalDate""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 12860, "\"", 12985, 1);
#line 221 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 12868, Model.Contract.StemFestivalDate.HasValue?Model.Contract.StemFestivalDate.Value.ToString("dd/MM/yyyy"):string.Empty, 12868, 117, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(12986, 540, true);
            WriteLiteral(@" class=""form-control"">
                                                <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Cài giáo án</label>
                                        <div class=""col-sm-9"">
");
            EndContext();
#line 230 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                              
                                                string checkedCaiGiaoAn = Model.Contract.InstallProgram ? "checked='checked'" : string.Empty;
                                                string checkedChuaCaiGiaoAn = !Model.Contract.InstallProgram ? "checked='checked'" : string.Empty;
                                            

#line default
#line hidden
            BeginContext(13912, 108, true);
            WriteLiteral("                                            <input type=\"radio\" name=\"Contract.InstallProgram\" value=\"true\" ");
            EndContext();
            BeginContext(14022, 16, false);
#line 234 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                        Write(checkedCaiGiaoAn);

#line default
#line hidden
            EndContext();
            BeginContext(14039, 155, true);
            WriteLiteral(" /> &nbsp; Đã cài giáo án &nbsp;&nbsp;&nbsp;\r\n                                            <input type=\"radio\" name=\"Contract.InstallProgram\" value=\"false\" ");
            EndContext();
            BeginContext(14196, 20, false);
#line 235 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                         Write(checkedChuaCaiGiaoAn);

#line default
#line hidden
            EndContext();
            BeginContext(14217, 402, true);
            WriteLiteral(@" /> &nbsp; Chưa cài giáo án
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">SL máy cài giáo án</label>
                                        <div class=""col-sm-9"">
                                            ");
            EndContext();
            BeginContext(14620, 79, false);
#line 241 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.QuantiInstall, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(14699, 469, true);
            WriteLiteral(@"
                                        </div>
                                    </div>


                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Nguồn giáo viên</label>
                                        <div class=""col-sm-9"">
                                            <select class=""form-control"" id=""Contract_TeacherResouce"" name=""Contract.TeacherResouce"">

");
            EndContext();
#line 251 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                  
                                                    var lstSource = new List<DAL.Models.ComboBoxModel>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        new DAL.Models.ComboBoxModel
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Value="ichi",Text="ICHI"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        new DAL.Models.ComboBoxModel
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Value="nhatruong",Text="Nhà trường"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                    };

                                                    foreach (var source in lstSource)
                                                    {
                                                        string selectedSource = Model.Contract.TeacherResouce == source.Value ? "selected='selected'" : string.Empty;

#line default
#line hidden
            BeginContext(20339, 63, true);
            WriteLiteral("                                                        <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 20402, "\"", 20425, 1);
#line 267 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 20410, source.Value, 20410, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(20426, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(20429, 14, false);
#line 267 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                    Write(selectedSource);

#line default
#line hidden
            EndContext();
            BeginContext(20444, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(20447, 11, false);
#line 267 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                      Write(source.Text);

#line default
#line hidden
            EndContext();
            BeginContext(20459, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 268 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                    }

                                                

#line default
#line hidden
            BeginContext(20578, 149, true);
            WriteLiteral("                                            </select>\r\n\r\n                                        </div>\r\n                                    </div>\r\n");
            EndContext();
#line 275 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                      
                                        if (Model.Contract.Id != 0)
                                        {

#line default
#line hidden
            BeginContext(20879, 1021, true);
            WriteLiteral(@"                                            <div class=""form-group row"">
                                                <br /><br />
                                                <table class=""table table-bordered"" style=""z-index:9999;"">
                                                    <thead>
                                                        <tr>
                                                            <th>File đính kèm</th>
                                                            <th>Ngày</th>
                                                            <th class=""text-center"">
                                                                <input type=""button"" value=""Đính kèm file"" class=""btn btn-primary"" id=""btn-open-upload"" />
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
");
            EndContext();
#line 291 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                          
                                                            foreach (var infile in Model.ContractAttachment)
                                                            {

#line default
#line hidden
            BeginContext(22133, 144, true);
            WriteLiteral("                                                                <tr>\r\n                                                                    <td><a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 22277, "\"", 22358, 1);
#line 295 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 22284, Url.Content("~/upload/contract/"+infile.ObjectId+"/" + infile.FileName), 22284, 74, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("download", " download=\"", 22359, "\"", 22386, 1);
#line 295 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 22370, infile.FileName, 22370, 16, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(22387, 44, true);
            WriteLiteral("><span class=\"fa fa-download\"></span>&nbsp; ");
            EndContext();
            BeginContext(22433, 15, false);
#line 295 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                                                                                                                                                Write(infile.FileName);

#line default
#line hidden
            EndContext();
            BeginContext(22449, 83, true);
            WriteLiteral("</a></td>\r\n                                                                    <td>");
            EndContext();
            BeginContext(22534, 16, false);
#line 296 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                    Write(infile.CreatedBy);

#line default
#line hidden
            EndContext();
            BeginContext(22551, 99, true);
            WriteLiteral("</td>\r\n                                                                    <td class=\"text-center\" ");
            EndContext();
            BeginContext(22652, 10, false);
#line 297 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                        Write(hideAction);

#line default
#line hidden
            EndContext();
            BeginContext(22663, 80, true);
            WriteLiteral(">\r\n                                                                        <span");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 22743, "\"", 22783, 3);
            WriteAttributeValue("", 22753, "DeleteAttachment(", 22753, 17, true);
#line 298 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 22770, infile.Id, 22770, 12, false);

#line default
#line hidden
            WriteAttributeValue("", 22782, ")", 22782, 1, true);
            EndWriteAttribute();
            BeginContext(22784, 183, true);
            WriteLiteral("><i class=\"fa fa-trash\"></i></span>\r\n                                                                    </td>\r\n                                                                </tr>\r\n");
            EndContext();
#line 301 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                            }
                                                        

#line default
#line hidden
            BeginContext(23089, 176, true);
            WriteLiteral("\r\n\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n");
            EndContext();
#line 308 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                        }
                                    

#line default
#line hidden
            BeginContext(23347, 380, true);
            WriteLiteral(@"
                                </div>


                                <div class=""col-md-6"">
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Mã HĐ (tự động)</label>
                                        <div class=""col-sm-9"">
                                            ");
            EndContext();
            BeginContext(23728, 96, false);
#line 318 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.Code, new { @class = "form-control", @placeholder = "Tự động" }));

#line default
#line hidden
            EndContext();
            BeginContext(23824, 364, true);
            WriteLiteral(@"
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Số HĐ *</label>
                                        <div class=""col-sm-9"">
                                            ");
            EndContext();
            BeginContext(24189, 76, false);
#line 324 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.ContractNo, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(24265, 453, true);
            WriteLiteral(@"
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Loại HĐ *</label>
                                        <div class=""col-sm-9"">
                                            <select class=""form-control"" id=""Contract_ContractType"" name=""Contract.ContractType"">
");
            EndContext();
#line 331 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                  
                                                    var lstoption = new List<DAL.Models.ComboBoxModel>
                                                                                                                                                                                                                                                                                                    {
                                                                                                                                                                                                                                                            new DAL.Models.ComboBoxModel{Value="1",Text="STEM theo tiết"},
                                                                                                                                                                                                                                                            new DAL.Models.ComboBoxModel{Value="2",Text="STEM theo tháng"},
                                                                                                                                                                                                                                                            new DAL.Models.ComboBoxModel{Value="3",Text="KNS theo tiết"},
                                                                                                                                                                                                                                                            new DAL.Models.ComboBoxModel{Value="4",Text="KNS theo tháng"}
                                                                                                                                                                                                                                                                                                    };
                                                    foreach (var option in lstoption)
                                                    {
                                                        string selectedConType = Model.Contract.ContractType.ToString() == option.Value ? "selected='selected'" : string.Empty;

#line default
#line hidden
            BeginContext(27047, 63, true);
            WriteLiteral("                                                        <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 27110, "\"", 27133, 1);
#line 342 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 27118, option.Value, 27118, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(27134, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(27137, 15, false);
#line 342 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                    Write(selectedConType);

#line default
#line hidden
            EndContext();
            BeginContext(27153, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(27156, 11, false);
#line 342 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                                                       Write(option.Text);

#line default
#line hidden
            EndContext();
            BeginContext(27168, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 343 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                    }
                                                

#line default
#line hidden
            BeginContext(27285, 581, true);
            WriteLiteral(@"

                                            </select>
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Ngày tạo HĐ *</label>
                                        <div class=""col-sm-9"">
                                            <div class=""input-group date"">
                                                <input type=""text"" id=""Contract_ContractDate"" name=""Contract.ContractDate""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 27866, "\"", 28006, 1);
#line 354 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 27874, Model.Contract.ContractDate.HasValue?Model.Contract.ContractDate.Value.ToString("dd/MM/yyyy"):DateTime.Now.ToString("dd/MM/yyyy"), 27874, 132, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(28007, 736, true);
            WriteLiteral(@" class=""form-control"">
                                                <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Ngày hiệu lực *</label>
                                        <div class=""col-sm-9"">
                                            <div class=""input-group date"">
                                                <input type=""text"" id=""Contract_EffectFrom"" name=""Contract.EffectFrom""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 28743, "\"", 28879, 1);
#line 363 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 28751, Model.Contract.EffectFrom.HasValue?Model.Contract.EffectFrom.Value.ToString("dd/MM/yyyy"):DateTime.Now.ToString("dd/MM/yyyy"), 28751, 128, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(28880, 732, true);
            WriteLiteral(@" class=""form-control"">
                                                <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Ngày kết thúc *</label>
                                        <div class=""col-sm-9"">
                                            <div class=""input-group date"">
                                                <input type=""text"" id=""Contract_EffectTo"" name=""Contract.EffectTo""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 29612, "\"", 29744, 1);
#line 372 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 29620, Model.Contract.EffectTo.HasValue?Model.Contract.EffectTo.Value.ToString("dd/MM/yyyy"):DateTime.Now.ToString("dd/MM/yyyy"), 29620, 124, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(29745, 672, true);
            WriteLiteral(@" class=""form-control"">
                                                <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Người tạo *</label>
                                        <div class=""col-sm-9"">
                                            <input class=""form-control"" placeholder=""Mặc định lấy user đang login"" readonly=""readonly""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 30417, "\"", 30452, 1);
#line 380 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 30425, Model.Contract.CreatedBy, 30425, 27, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(30453, 396, true);
            WriteLiteral(@" />
                                        </div>
                                    </div>

                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">NV phụ trách *</label>
                                        <div class=""col-sm-9"">

                                            <input type=""text""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 30849, "\"", 30885, 1);
#line 388 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 30857, Model.Contract.StaffRefer, 30857, 28, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(30886, 469, true);
            WriteLiteral(@" id=""txt-autocomplete-staff"" class=""form-control"" name=""txt-autocomplete-staff"" autocomplete=""off"" autofocus placeholder=""Tìm theo mã hoặc tên"">

                                        </div>
                                    </div>
                                    <div class=""form-group row"">
                                        <label class=""col-form-label col-sm-3"">Tình trạng</label>
                                        <div class=""col-sm-9"">
");
            EndContext();
#line 395 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                              
                                                if (Model.Contract.Status == Contanst.ContractStatus_Nhap)
                                                {

#line default
#line hidden
            BeginContext(31562, 114, true);
            WriteLiteral("                                                    <span class=\"badge badge-secondary badge-status\">Nháp</span>\r\n");
            EndContext();
#line 399 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                }
                                                else
                                                {

#line default
#line hidden
            BeginContext(31832, 90, true);
            WriteLiteral("                                                    <table class=\"table table-bordered\">\r\n");
            EndContext();
#line 403 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                          
                                                            foreach (var statusItem in Model.LstStatusHistory)
                                                            {
                                                                string classStatus = "";

                                                                if (statusItem.status == DAL.Contanst.CreditRequestStatus_Waiting)
                                                                {
                                                                    classStatus = "<span class='badge badge-warning badge-status'>Chờ duyệt</span>";
                                                                }

                                                                if (statusItem.status == DAL.Contanst.CreditRequestStatus_Approved)
                                                                {
                                                                    classStatus = "<span class='badge badge-success badge-status'>Đã duyệt</span>";
                                                                }
                                                                if (statusItem.status == DAL.Contanst.CreditRequestStatus_Rejected)
                                                                {
                                                                    classStatus = "<span class='badge badge-danger badge-status'>Từ chối</span>";
                                                                }
                                                                if (statusItem.status == DAL.Contanst.CreditRequestStatus_Canceled)
                                                                {
                                                                    classStatus = "<span class='badge badge-danger badge-status'>Huỷ</span>";
                                                                }


#line default
#line hidden
            BeginContext(33909, 142, true);
            WriteLiteral("                                                                <tr>\r\n                                                                    <td>");
            EndContext();
            BeginContext(34052, 21, false);
#line 427 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                   Write(Html.Raw(classStatus));

#line default
#line hidden
            EndContext();
            BeginContext(34073, 79, true);
            WriteLiteral("</td>\r\n                                                                    <td>");
            EndContext();
            BeginContext(34154, 19, false);
#line 428 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                    Write(statusItem.actionBy);

#line default
#line hidden
            EndContext();
            BeginContext(34174, 79, true);
            WriteLiteral("</td>\r\n                                                                    <td>");
            EndContext();
            BeginContext(34255, 59, false);
#line 429 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                    Write(statusItem.actionDate.Value.ToString("dd/MM/yyyy hh:mm tt"));

#line default
#line hidden
            EndContext();
            BeginContext(34315, 78, true);
            WriteLiteral("</td>\r\n                                                                </tr>\r\n");
            EndContext();
#line 431 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                            }
                                                        

#line default
#line hidden
            BeginContext(34515, 62, true);
            WriteLiteral("                                                    </table>\r\n");
            EndContext();
#line 434 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                }
                                            

#line default
#line hidden
            BeginContext(34675, 1361, true);
            WriteLiteral(@"


                                        </div>
                                    </div>


                                </div>

                            </div>




                            <div class=""card card-primary card-outline"">
                                <div class=""card-header""><strong>Chương trình triển khai/chính sách/ghi chú</strong></div>
                                <div class=""card-body"">
                                    <div class=""row"">
                                        <div class=""col-sm-3"">
                                            <span>Chương trình</span>
                                        </div>
                                        <div class=""col-sm-3"">
                                            <span>Chính sách</span>
                                        </div>
                                        <div class=""col-sm-3"">
                                            <span>ghi chú</span>
                                ");
            WriteLiteral(@"        </div>
                                        <div class=""col-sm-3"">

                                        </div>
                                    </div>
                                    <div class=""row"">
                                        <div class=""col-sm-3"">
                                            ");
            EndContext();
            BeginContext(36037, 85, false);
#line 469 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextAreaFor(x => x.Contract.Program, new { @class = "form-control", @rows = 5 }));

#line default
#line hidden
            EndContext();
            BeginContext(36122, 158, true);
            WriteLiteral("\r\n                                        </div>\r\n                                        <div class=\"col-sm-3\">\r\n                                            ");
            EndContext();
            BeginContext(36281, 84, false);
#line 472 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextAreaFor(x => x.Contract.Policy, new { @class = "form-control", @rows = 5 }));

#line default
#line hidden
            EndContext();
            BeginContext(36365, 158, true);
            WriteLiteral("\r\n                                        </div>\r\n                                        <div class=\"col-sm-3\">\r\n                                            ");
            EndContext();
            BeginContext(36524, 89, false);
#line 475 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextAreaFor(x => x.Contract.GeneralNote, new { @class = "form-control", @rows = 5 }));

#line default
#line hidden
            EndContext();
            BeginContext(36613, 418, true);
            WriteLiteral(@"
                                        </div>
                                        <div class=""col-sm-3"">
                                            <div class=""form-group row"">
                                                <label class=""col-form-label col-sm-8"">Sỉ số lớp</label>
                                                <div class=""col-sm-4"">
                                                    ");
            EndContext();
            BeginContext(37032, 77, false);
#line 481 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                               Write(Html.TextBoxFor(x => x.Contract.QuantiClass, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(37109, 421, true);
            WriteLiteral(@"

                                                </div>
                                            </div>
                                            <div class=""form-group row"">
                                                <label class=""col-form-label col-sm-8"">Sỉ số học sinh</label>
                                                <div class=""col-sm-4"">
                                                    ");
            EndContext();
            BeginContext(37531, 78, false);
#line 488 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                               Write(Html.TextBoxFor(x => x.Contract.QuantiMember, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(37609, 429, true);
            WriteLiteral(@"

                                                </div>
                                            </div>
                                            <div class=""form-group row"">
                                                <label class=""col-form-label col-sm-8"">Số tháng/tiết thực dạy</label>
                                                <div class=""col-sm-4"">
                                                    ");
            EndContext();
            BeginContext(38039, 81, false);
#line 495 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                               Write(Html.TextBoxFor(x => x.Contract.QuantiCompleted, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(38120, 882, true);
            WriteLiteral(@"

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class=""card-body"">
                                    <div class=""row"">
                                        <div class=""col-sm-4""><label>Số tiết/tháng</label></div>
                                        <div class=""col-sm-4""><label>Học phí/tiết/học sinh</label></div>
                                        <div class=""col-sm-4""><label>Phí triển khai/tiết/học sinh</label></div>

                                    </div>
                                    <div class=""row"">
                                        <div class=""col-sm-4"">
                                            ");
            EndContext();
            BeginContext(39003, 83, false);
#line 511 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.QuantiUnitOnMonth, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(39086, 158, true);
            WriteLiteral("\r\n                                        </div>\r\n                                        <div class=\"col-sm-4\">\r\n                                            ");
            EndContext();
            BeginContext(39245, 71, false);
#line 514 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.Price, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(39316, 158, true);
            WriteLiteral("\r\n                                        </div>\r\n                                        <div class=\"col-sm-4\">\r\n                                            ");
            EndContext();
            BeginContext(39475, 77, false);
#line 517 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                       Write(Html.TextBoxFor(x => x.Contract.PriceDeploy, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(39552, 652, true);
            WriteLiteral(@"
                                        </div>


                                    </div>

                                </div>

                            </div>

                            <br /><br />
                            <div class=""card card-primary card-outline"">
                                <div class=""card-header"">
                                    <div class=""row"">
                                        <div class=""col-sm-10""><strong>Các tháng triển khai</strong></div>
                                        <div class=""col-sm-2"">
                                            <div class=""text-right"">
");
            EndContext();
#line 534 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                  
                                                    if (Model.Contract.Id != 0)
                                                    {

#line default
#line hidden
            BeginContext(40392, 157, true);
            WriteLiteral("                                                        <input type=\"button\" class=\"btn btn-warning\" value=\"Thêm tiết học vào HĐ\" id=\"btn-open-add-item\" />\r\n");
            EndContext();
#line 538 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                    }
                                                

#line default
#line hidden
            BeginContext(40655, 8008, true);
            WriteLiteral(@"

                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class=""card-body"">
                                    <div class=""row"">
                                        <table class=""table table-bordered"">
                                            <thead>
                                                <tr>
                                                    <th>Mã</th>
                                                    <th>Tên</th>
                                                    <th>Đơn vị</th>
                                                    <th>Năm</th>
                                                    <th>SL tiết</th>
                                                    <th width=""40px""></th>
                                                </tr>
                                            </thead>
                ");
            WriteLiteral(@"                            <tbody id=""tbl-item""></tbody>
                                        </table>
                                    </div>

                                </div>

                            </div>

                        </div>

                        <div id=""contract-history-thu-tab-content"" class=""tab-pane fade"">
                            <div class=""col-sm-12"">
                                <div class=""text-right"">
                                    <input type=""button"" class=""btn btn-warning"" id=""btn-open-thu"" value=""Tạo khoản thu"" />
                                </div>

                            </div>
                            <div class=""col-sm-12"" id=""load-tran-thu"">

                            </div>
                        </div>
                        <div id=""contract-history-chi-tab-content"" class=""tab-pane fade"">
                            <div class=""col-sm-12"">
                                <div class=""text-right"">
      ");
            WriteLiteral(@"                              <input type=""button"" class=""btn btn-warning"" id=""btn-open-chi"" value=""Tạo khoản chi"" />
                                </div>

                            </div>
                            <div class=""col-sm-12"" id=""load-tran-chi"">

                            </div>
                        </div>

                        <div id=""contract-promotion-tab-content"" class=""tab-pane fade"">
                            <div class=""col-sm-12"">
                                <div class=""text-right"">
                                    <input type=""button"" class=""btn btn-warning"" id=""btn-open-promotion-form"" value=""Cấp thiết bị"" />
                                </div>

                            </div>
                            <div class=""col-sm-12"">
                                <table class=""table table-bordered dataTable"">
                                    <thead>
                                        <tr>
                                            <t");
            WriteLiteral(@"h>Tên thiết bị</th>
                                            <th>Đơn vị</th>
                                            <th>Số lượng</th>
                                            <th>Giá</th>
                                            <th>Tổng tiền</th>
                                            <th>Người cấp</th>
                                            <th>Ngày cấp</th>
                                            <th>Ghi chú</th>
                                            <th width=""60px""></th>
                                        </tr>

                                    </thead>
                                    <tbody id=""tbl-promotion-list""></tbody>
                                </table>
                            </div>
                        </div>
                        <div id=""contract-promotion-money-tab-content"" class=""tab-pane fade"">
                            <div class=""col-sm-12"">
                                <div class=""text-right"">
            ");
            WriteLiteral(@"                        <input type=""button"" class=""btn btn-warning"" id=""btn-open-promotion-money-form"" value=""Cấp tiền"" />
                                </div>

                            </div>
                            <div class=""col-sm-12"">
                                <table class=""table table-bordered dataTable"">
                                    <thead>
                                        <tr>
                                            <th>Tổng tiền</th>
                                            <th>Người cấp</th>
                                            <th>Ngày cấp</th>
                                            <th>Ghi chú</th>
                                            <th width=""60px""></th>
                                        </tr>

                                    </thead>
                                    <tbody id=""tbl-promotion-money-list""></tbody>
                                </table>
                            </div>
                    ");
            WriteLiteral(@"    </div>
                    </div>
                </form>

            </div>
        </div>

        <div class=""card card-primary card-outline"">
            <div class=""card-body"">
                <div class=""row"">
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Tổng số tiết học</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Số tiết trong học kỳ</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Số tiết hè</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Tổng học phí</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Tổng phí triển khai</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;"">Tổng giá trị HĐ</span></div>
                </div>
                <div class=""row"">
                  ");
            WriteLiteral(@"  <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-quanti-unit"">0</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-quanti-hocky"">0</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-quanti-hoche"">0</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-total-hocphi"">0</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-total-trienkhai"">0</span></div>
                    <div class=""col-sm-2""><span style=""font-size:12pt;font-weight:bold;color:#ff6a00"" class=""number-divide"" id=""span-total-contract"">0</span></div>
                </div>
            </div>
        </div>
");
            WriteLiteral(@"

    </div>
</section>


<div class=""modal fade show"" data-backdrop=""static"" id=""modal-additem"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Thêm tiết học/tháng vào HĐ</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">
                <div class=""form-group"">
                    <div class=""row"">
                        <label class=""col-md-4 control-label"">Tháng/năm</label>
                        <div class=""col-md-4"">
                            <select class=""form-control"" id=""ddl-itemcode"">
");
            EndContext();
#line 690 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                  
                                    for (int i = 1; i <= 12; i++)
                                    {

#line default
#line hidden
            BeginContext(48805, 47, true);
            WriteLiteral("                                        <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 48852, "\"", 48865, 2);
            WriteAttributeValue("", 48860, "T", 48860, 1, true);
#line 693 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 48861, i, 48861, 4, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(48866, 7, true);
            WriteLiteral(">Tháng ");
            EndContext();
            BeginContext(48875, 1, false);
#line 693 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                                                Write(i);

#line default
#line hidden
            EndContext();
            BeginContext(48877, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 694 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                                    }
                                

#line default
#line hidden
            BeginContext(48962, 2794, true);
            WriteLiteral(@"                                <option value=""HE"">Tháng hè</option>
                            </select>
                        </div>
                        <div class=""col-md-4"">
                            <select class=""form-control"" id=""ddl-year"">
                                <option value=""2024"">2024</option>
                                <option value=""2025"">2025</option>
                            </select>
                        </div>
                    </div>

                </div>
                <br />
                <div class=""form-group"">
                    <div class=""row"">
                        <label class=""col-md-4 control-label"">Số tiết</label>
                        <div class=""col-md-8"">
                            <input type=""number"" id=""txt-quanti-onmonth"" class=""form-control"" />
                        </div>
                    </div>
                </div>
            </div>
            <div class=""modal-footer"">
                <button typ");
            WriteLiteral(@"e=""button"" class=""btn btn-warning"" id=""btn-add-item"">OK</button>

            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


<div class=""modal fade show"" data-backdrop=""static"" id=""modal-thuchi-detail"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Nội dung khoản thu/chi</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">
                <form class=""form-horizontal"" id=""form-thuchi""></form>

            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-warning"" id=""btn-save-thuchi"">OK</button>
            </div>
        </div>
        <!-- /.modal-content -->
 ");
            WriteLiteral(@"   </div>
    <!-- /.modal-dialog -->
</div>


<div class=""modal fade show"" data-backdrop=""static"" id=""modal-attach-upload"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Đính kèm file</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">
                <form id=""formattact"" name=""formattact"" class=""form-horizontal"" action=""/Contract/ContractDetail"" method=""post"" enctype=""multipart/form-data"">
                    ");
            EndContext();
            BeginContext(51758, 23, false);
#line 763 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                Write(Html.AntiForgeryToken());

#line default
#line hidden
            EndContext();
            BeginContext(51782, 88, true);
            WriteLiteral("\r\n                    <input type=\"hidden\" id=\"attachcontractid\" name=\"attachcontractid\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 51870, "\"", 51898, 1);
#line 764 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
WriteAttributeValue("", 51878, Model.Contract.Id, 51878, 20, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(51899, 3045, true);
            WriteLiteral(@" />
                    <input type=""file"" name=""postedFile"" />
                    <input type=""submit"" value=""Upload"" class=""btn btn-sm btn-success"" />
                </form>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>


<div class=""modal fade show"" data-backdrop=""static"" id=""modal-reject-contract"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Từ chối</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">

                <div class=""row"">
                    <label class=""col-md-6 control-label"">Ghi chú lý do từ chối</label>
                    <div class=""col-md-6"">
                        <input type=""te");
            WriteLiteral(@"xt"" class=""form-control"" id=""txt-reject-note"" />
                    </div>
                </div>

            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-warning"" id=""btn-reject"">OK</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>



<div class=""modal fade show"" data-backdrop=""static"" id=""modal-promotion-detail"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog modal-lg"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h4 class=""modal-title"" id=""promotion-title"">Thông tin cấp thiết bị</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">
                <form class=""form-horizontal"" id=""form-promotion""></form>

           ");
            WriteLiteral(@" </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-warning"" id=""btn-save-promotion"">OK</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>








<div class=""modal fade show"" data-backdrop=""static"" id=""modal-customer-info"" aria-modal=""true"" role=""dialog"">
    <div class=""modal-dialog"">
        <div class=""modal-content modal-lg"">
            <div class=""modal-header"">
                <h4 class=""modal-title"">Thông tin khách hàng</h4>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">×</span>
                </button>
            </div>
            <div class=""modal-body"">
                <form id=""formcustinfo"" name=""formcustinfo"" class=""form-horizontal"" action=""/Contract/ContractDetail"" method=""post"" enctype=""multipart/form-data"">
                    ");
            EndContext();
            BeginContext(54946, 23, false);
#line 846 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\Contract\ContractDetail.cshtml"
                Write(Html.AntiForgeryToken());

#line default
#line hidden
            EndContext();
            BeginContext(54970, 2862, true);
            WriteLiteral(@"
                    <input type=""hidden"" id=""txt-cust-id"" />
                    <div class=""row"">
                        <div class=""col-sm-6"">
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">Mã KH</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-cust-code"" class=""form-control"" />
                                </div>
                            </div>
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">Tên KH</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-cust-name"" class=""form-control"" />
                                </div>
                            </div>
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">");
            WriteLiteral(@"Điện thoại</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-phone"" class=""form-control"" />
                                </div>
                            </div>

                        </div>
                        <div class=""col-sm-6"">
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">Địa chỉ</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-cust-address"" class=""form-control"" />
                                </div>
                            </div>
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">MST</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-taxtcode"" class=""form-control"" />
                      ");
            WriteLiteral(@"          </div>
                            </div>
                            <div class=""form-group"">
                                <label class=""col-sm-12 col-form-label"">Người đại diện</label>
                                <div class=""col-md-12"">
                                    <input type=""text"" id=""txt-contact-name"" class=""form-control"" />
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-warning"" id=""btn-save-customer-info"">OK</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>




");
            EndContext();
            DefineSection("scripts", async() => {
                BeginContext(57849, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(57855, 47, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "deb43e2200901f43c193eca6fa0f116378dab46b92757", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(57902, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(57908, 68, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "deb43e2200901f43c193eca6fa0f116378dab46b94015", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(57976, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(57982, 63, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "deb43e2200901f43c193eca6fa0f116378dab46b95273", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(58045, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(58051, 76, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "deb43e2200901f43c193eca6fa0f116378dab46b96531", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(58127, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(58133, 83, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "deb43e2200901f43c193eca6fa0f116378dab46b97789", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(58216, 31586, true);
                WriteLiteral(@"

    <script>

        var arrInvoiceDetail = [];

        $(document).ready(function () {

            $("".date"").datepicker({
                format: ""dd/mm/yyyy""
            }).on('changeDate', function (e) {
                $(this).datepicker('hide');
            });

            AutoCompleteSearchObj();
            AutoCompleteSearchStaff();


            if ($(""#Contract_Id"").val() != undefined && $(""#Contract_Id"").val() != 0) {
                GetSumFooterContract();
                LoadTransactionFinList();
                ListContractPromotion();
                RebindCustomerInfo();
            }



            $(""#btn-save"").click(function () {
                SaveContract();
            });

            $(""#btn-open-add-item"").click(function () {
                let quantiOnMonth = $(""#Contract_QuantiUnitOnMonth"").val();
                $(""#txt-quanti-onmonth"").val(quantiOnMonth);
                $(""#modal-additem"").modal();

            });





        ");
                WriteLiteral(@"    $(""#btn-add-item"").click(function () {
                AddItem();
            });

            $(""#btn-close-additem"").click(function () {
                $(""#modal-additem"").modal(""hide"");
            });




            $(""#btn-open-thu"").click(function () {
                OpenModalThuChi(0, ""thu"");
            });

            $(""#btn-open-chi"").click(function () {
                OpenModalThuChi(0, ""chi"");
            });


            $(""#btn-save-thuchi"").click(function () {
                SaveThuChi();
            });

            $(""#btn-send-approver"").click(function () {
                ChangeContractStatus(""waiting"");
            });


            $(""#btn-approve"").click(function () {
                ChangeContractStatus(""approved"");
            });



            $(""#btn-open-reject-modal"").click(function () {
                $(""#modal-reject-contract"").modal();
            });


            $(""#btn-reject"").click(function () {
                ChangeC");
                WriteLiteral(@"ontractStatus(""rejected"");
            });

            $(""#btn-cancel"").click(function () {
                ChangeContractStatus(""cancelled"");
            });


            $(""#btn-open-upload"").click(function () {
                $(""#modal-attach-upload"").show();
            });


            $(""#btn-open-promotion-form"").click(function () {
                OpenPromotionForm(0,""device"");
            });

            $(""#btn-open-promotion-money-form"").click(function () {
                OpenPromotionForm(0, ""money"");
            });


            $(""#btn-save-promotion"").click(function () {
                SavePromotion();
            });


            $(""#btn-open-cust"").click(function () {
                let customerCode = $(""#Contract_CustomerCode"").val();
                GetCustomerInfo(customerCode);

            });

            $(""#btn-save-customer-info"").click(function () {
                SaveCustomerFromContract();
            });


        });



      ");
                WriteLiteral(@"  function DeleteAttachment(attachId) {

            var conf = bootbox.confirm(""Bạn có chắc muốn file đính kèm này?"", function () {
                if (conf) {
                    $.ajax({
                        type: ""GET"",
                        contentType: 'application/json; charset=utf-8',
                        url: ""/CreditRequest/DeleteAttachment?attachId="" + attachId,
                        success: function (result) {
                            bootbox.alert(AlertSuccess(""Đã xoá thành công""), function () {
                                location.href = ""/Contract/ContractDetail/"" + $(""#Contract_Id"").val();
                            });

                        }
                    });
                }
            });


        }




        function OpenPromotionForm(promotionId, promotionType) {
            $(""#form-promotion"").load(""/contract/_PartialPromotionForm?promotionId="" + promotionId + ""&promotionType="" + promotionType, function () {
                $(""");
                WriteLiteral(@".date"").datepicker({
                    format: ""dd/mm/yyyy""
                }).on('changeDate', function (e) {
                    $(this).datepicker('hide');
                    });

                if (promotionType == ""device"") {
                    $(""#promotion-title"").html(""Thông tin cấp thiết bị"");
                } else {
                    $(""#promotion-title"").html(""Thông tin cấp tiền"");
                }

                $(""#modal-promotion-detail"").modal();
            });
        }

        function ValidFormPromotion() {
            var resutlValidpromotion = $(""#form-promotion"").validate({
                rules: {
                    ""Name"": ""required"",
                    ""Unit"": ""required"",
                    ""Quanti"": ""required"",
                    ""Price"": ""required""
                },
                messages: {
                    ""Name"": null,
                    ""Unit"": null,
                    ""Quanti"": null,
                    ""Price"": null
        ");
                WriteLiteral(@"        }
            }).form();
            return resutlValidpromotion;
        }

        function SavePromotion() {
            var validPromotion = ValidFormPromotion();
            if (validPromotion) {
                var promotionData = FormToObject(""#form-promotion"", null);
                promotionData.ContractId = $(""#Contract_Id"").val();
                promotionData.CreatedDate = ConverFormatDate($(""#CreatedDate"").val());
                $.ajax({
                    type: ""POST"",
                    contentType: 'application/json; charset=utf-8',
                    url: ""/Contract/SaveContractPromoton"",
                    dataType: 'json',
                    data: JSON.stringify(promotionData),
                    beforeSend: function () {
                        ShowWaiting();
                    },
                    success: function (res) {

                        HideWaiting();
                        ListContractPromotion();
                        $(""#modal-pro");
                WriteLiteral(@"motion-detail"").modal(""hide"");

                    }
                });
            }
        }

        function DeletePromotion(promotionID) {

            var conf = bootbox.confirm(""Bạn có chắc muốn xoá dòng này?"", function () {
                if (conf) {
                    $.ajax({
                        type: ""GET"",
                        contentType: 'application/json; charset=utf-8',
                        url: ""/Contract/DeleteContractPromotion?itemId="" + promotionID,
                        success: function (result) {
                            bootbox.alert(AlertSuccess(""Đã xoá thành công""), function () {
                                ListContractPromotion();

                            });

                        }
                    });
                }
            });


        }




        function AutoCompleteSearchObj() {
            var urlAutoComplete = ""/Customer/SearhObjAutoComplete"";


            $(""#Contract_CustomerName"").typeahead({");
                WriteLiteral(@"
                hint: true,
                highlight: true,
                minLength: 3,
                source: function (request, response) {
                    $.ajax({
                        url: urlAutoComplete,
                        data: JSON.stringify({ Keyword: request }),
                        dataType: ""json"",
                        type: ""POST"",
                        contentType: ""application/json; charset=utf-8"",
                        success: function (data) {
                            items = [];
                            map = {};
                            $.each(data, function (i, item) {
                                var displayList = ""<table> "" +
                                    ""<tbody><tr>"" +
                                    ""<td style='text-align:left;width:100px;'>"" + item.code + ""</td>"" +
                                    ""<td style='text-align:left;width:200px;'>"" + item.name + ""</td>"" +
                                    ""<td style='t");
                WriteLiteral(@"ext-align:left;width:100px;'>"" + item.phone + ""</td>"" +
                                    ""<td style='text-align:left;width:300px;'>"" + item.address + ""</td>"" +
                                    ""</tr></tbody>"" +
                                    ""</table>"";
                                map[displayList] = {
                                    code: item.code,
                                    name: item.name,
                                    phone: item.phone,
                                    address: item.address
                                };
                                items.push(displayList);
                            });
                            response(items);
                            $("".dropdown-menu"").css(""height"", ""auto"");
                        },
                        error: function (response) {
                            alert(response.responseText);
                        },
                        failure: function (response) {
        ");
                WriteLiteral(@"                    alert(response.responseText);
                        }

                    });
                },
                updater: function (item) {

                    $(""#Contract_CustomerCode"").val(map[item].code);
                    $(""#Contract_CustomerName"").val(map[item].name);
                    $(""#txt-objphone"").val(map[item].phone);
                    $(""#txt-objaddress"").val(map[item].address);



                    return map[item].name;
                },
                afterSelect: function (item) {
                    // event after selected

                }

            });





        }


        function AutoCompleteSearchStaff() {
            var urlAutoComplete = ""/Invoice/SearhStaffAutoComplete"";

            $(""#txt-autocomplete-staff"").typeahead({
                hint: true,
                highlight: true,
                minLength: 3,
                source: function (request, response) {
                    $.ajax({
     ");
                WriteLiteral(@"                   url: urlAutoComplete,
                        data: JSON.stringify({ Keyword: request, Type: null }),
                        dataType: ""json"",
                        type: ""POST"",
                        contentType: ""application/json; charset=utf-8"",
                        success: function (data) {
                            items = [];
                            map = {};
                            $.each(data, function (i, item) {
                                var displayList = ""<table style='width:100%;border-collapse:collapse;' border='1'> "" +
                                    ""<tbody><tr>"" +
                                    ""<td style='text-align:left;width:50px;'>"" + item.userName + ""</td>"" +
                                    ""<td style='text-align:left;width:200px;'>"" + item.fullName + ""</td>"" +
                                    ""<td style='text-align:left;width:150px;'>"" + item.email + ""</td>"" +
                                    ""</tr></tbody>"" +
");
                WriteLiteral(@"                                    ""</table>"";
                                map[displayList] = {
                                    code: item.userName,
                                    name: item.fullName,
                                    email: item.email,
                                };
                                items.push(displayList);
                            });
                            response(items);
                            $("".dropdown-menu"").css(""height"", ""auto"");
                        },
                        error: function (response) {
                            alert(response.responseText);
                        },
                        failure: function (response) {
                            alert(response.responseText);
                        }

                    });
                },
                updater: function (item) {

                    $(""#Contract_StaffRefer"").val(map[item].code);
                    return map[i");
                WriteLiteral(@"tem].name;
                },
                afterSelect: function (item) {
                    // event after selected

                }

            });





        }




        function SaveContract() {
            var valid = ValidateContract();
            if (valid) {

                var contract = FormToObject(""#form-contract"", ""Contract."");
                contract.ContractDate = ConverFormatDate($(""#Contract_ContractDate"").val());
                contract.EffectFrom = ConverFormatDate($(""#Contract_EffectFrom"").val());
                contract.EffectTo = ConverFormatDate($(""#Contract_EffectTo"").val());
                contract.Orientated = $(""input[name='Contract.Orientated']:checked"").val();
                contract.OrientatedDate = ConverFormatDate($(""#Contract_OrientatedDate"").val());
                contract.StemFestival = $(""input[name='Contract.StemFestival']:checked"").val();
                contract.StemFestivalDate = null;
                $.ajax({
          ");
                WriteLiteral(@"          type: ""POST"",
                    contentType: 'application/json; charset=utf-8',
                    url: ""/Contract/SaveConract"",
                    dataType: 'json',
                    data: JSON.stringify(contract),
                    beforeSend: function () {
                        ShowWaiting();
                    },
                    success: function (res) {

                        HideWaiting();
                        if (res.isSuccess === true) {
                            bootbox.alert(AlertSuccess(""Lưu dữ liệu thành công""), function () {
                                location.href = ""/Contract/ContractDetail/"" + res.longValReturn;
                            });
                        } else {
                            bootbox.alert(AlertFail(res.errorMessage));
                        }

                    }
                });
            }
        }

        function ValidateContract() {
            var resutlValid = $(""#form-contract"").validat");
                WriteLiteral(@"e({
                rules: {
                    // ""Invoice.Code"": ""required"",
                    ""Contract.ContractDate"": ""required"",
                    ""Contract.EffectFrom"": ""required"",
                    ""Contract.EffectTo"": ""required""
                },
                messages: {
                    //   ""Invoice.Code"": null,
                    ""Contract.ContractDate"": null,
                    ""Contract.EffectFrom"": null,
                    ""Contract.EffectTo"": null
                }
            }).form();
            return resutlValid;
        }





        function FormatNumberDevide() {
            $('.number-divide').divide({
                delimiter: ',',
                divideThousand: true,
                delimiterRegExp: /[\.\,\s]/g

            });
        }



        function AddItem() {

            let itemName = $(""#ddl-itemcode"").val() + ""/"" + $(""#ddl-year"").val();
            var itemoject = {
                ContractId: $(""#Contract_Id"").va");
                WriteLiteral(@"l(),
                ItemCode: $(""#ddl-itemcode"").val(),
                ItemName: itemName,
                Year: $(""#ddl-year"").val(),
                Quanti: $(""#txt-quanti-onmonth"").val(),
                Unit: ""Tiết""
            };


            $.ajax({
                type: ""POST"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Contract/SaveConractItem"",
                dataType: 'json',
                data: JSON.stringify(itemoject),
                beforeSend: function () {
                    ShowWaiting();
                },
                success: function (res) {
                    HideWaiting();
                    GetSumFooterContract();

                }
            });
        }


        function GetSumFooterContract() {
            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Contract/GetContractSumFooter?contractId="" + $(""#Contract_Id"").");
                WriteLiteral(@"val(),
                success: function (result) {

                    let htmlitems = """";
                    if (result.items.length > 0) {
                        $.each(result.items, function (index, value) {
                            htmlitems = htmlitems + ""<tr><td>"" + value.itemCode + ""</td>"" + ""<td>"" + value.itemName
                                + ""</td><td>"" + value.unit + ""</td>""
                                + ""</td><td>"" + value.year + ""</td>""
                                + ""</td><td>"" + value.quanti + ""</td>""
                                + ""</td><td><span class='fa fa-trash' onclick='DeleteItems("" + value.id + "")' ></span></td>""
                                + ""</tr>"";
                        });
                        $(""#tbl-item"").html(htmlitems);
                        $(""#span-quanti-unit"").html(result.tongSLUnit);
                        $(""#span-quanti-hocky"").html(result.tongSLHocKy);
                        $(""#span-quanti-hoche"").html(result.tongSLHocH");
                WriteLiteral(@"e);
                        $(""#span-total-hocphi"").html(result.tongHocPhi);
                        $(""#span-total-trienkhai"").html(result.tongTrienKhai);
                        $(""#span-total-contract"").html(result.tongGiatriHD);
                    }
                    FormatNumberDevide();
                }
            });
        }


        function DeleteItems(itemId) {

            var conf = bootbox.confirm(""Bạn có chắc muốn xoá tiết học/tháng này khỏi HĐ?"", function () {
                if (conf) {
                    $.ajax({
                        type: ""GET"",
                        contentType: 'application/json; charset=utf-8',
                        url: ""/Contract/DeleteItem?itemId="" + itemId,
                        success: function (result) {
                            bootbox.alert(AlertSuccess(""Đã xoá thành công""), function () {
                                GetSumFooterContract();

                            });

                        }
              ");
                WriteLiteral(@"      });
                }
            });


        }

        function ChangeContractStatus(newStatus) {
            var conf = bootbox.confirm(""Bạn có chắc chuyển trạng thái hợp đồng"", function () {
                if (conf) {
                    let contractId = $(""#Contract_Id"").val();

                    let modelChangeStatus = {
                        ""requestId"": contractId,
                        ""status"": newStatus,
                        ""userName"": """",
                        ""amountApprove"": 0,
                        ""rejectNote"": $(""#txt-reject-note"").val()
                    }

                    $.ajax({
                        type: ""POST"",
                        contentType: 'application/json; charset=utf-8',
                        url: ""/Contract/ChangeContractStatus"",
                        dataType: 'json',
                        data: JSON.stringify(modelChangeStatus),
                        beforeSend: function () {
                            Sho");
                WriteLiteral(@"wWaiting();
                        },
                        success: function (res) {
                            HideWaiting();
                            if (res.code != 0) {
                                bootbox.alert(AlertSuccess(""Chuyển trạng thái thành công""), function () {
                                    location.href = ""/Contract/ContractDetail/"" + contractId;
                                });

                            } else {
                                bootbox.alert(AlertFail(res.message));
                            }

                        }
                    });




                }
            });
        }


        function GetCustomerInfo(customerCode) {

            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Customer/GetCustomerByCode?customerCode="" + customerCode,
                success: function (result) {
                    if (result != null) {
   ");
                WriteLiteral(@"                     $(""#txt-cust-id"").val(result.id);
                        $(""#txt-cust-code"").val(result.code);
                        $(""#txt-cust-name"").val(result.name);
                        $(""#txt-phone"").val(result.phone);
                        $(""#txt-cust-address"").val(result.address);
                        $(""#txt-taxtcode"").val(result.taxCode);
                        $(""#txt-contact-name"").val(result.mainContactName);
                    }
                    $(""#modal-customer-info"").modal();
                }
            });


        }

        function SaveCustomerFromContract() {
            var modelCust = {
                Id: $(""#txt-cust-id"").val(),
                Code: $(""#txt-cust-code"").val(),
                Name: $(""#txt-cust-name"").val(),
                Phone: $(""#txt-phone"").val(),
                Address: $(""#txt-cust-address"").val(),
                TaxCode: $(""#txt-taxtcode"").val(),
                MainContactName: $(""#txt-contact-name"").val(");
                WriteLiteral(@")

            };


            $.ajax({
                type: ""POST"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Customer/SaveCustomerFromContract"",
                dataType: 'json',
                data: JSON.stringify(modelCust),
                beforeSend: function () {
                    ShowWaiting();
                },
                success: function (res) {
                    HideWaiting();
                    if (res.id != 0) {
                        $(""#Contract_CustomerCode"").val(modelCust.Code);
                        $(""#Contract_CustomerName"").val(modelCust.Name);
                        $(""#txt-objphone"").val(modelCust.Phone);
                        $(""#txt-objaddress"").val(modelCust.Address);
                        $(""#txt-objtaxcode"").val(modelCust.TaxCode);
                        $(""#txt-objcontactname"").val(modelCust.MainContactName);
                        $(""#modal-customer-info"").modal(""hide"");
                ");
                WriteLiteral(@"    } else {
                        bootbox.alert(AlertFail(""Sửa thông tin KH không thành công, liên hệ hỗ trợ""), function () {
                            $(""#modal-customer-info"").modal(""hide"");
                        });
                    }

                }
            });




        }

        function RebindCustomerInfo() {
            let customerCode = $(""#Contract_CustomerCode"").val();
            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Customer/GetCustomerByCode?customerCode="" + customerCode,
                success: function (result) {
                    if (result != null) {

                        $(""#txt-objphone"").val(result.phone);
                        $(""#txt-objaddress"").val(result.address);
                        $(""#txt-objtaxcode"").val(result.taxCode);
                        $(""#txt-objcontactname"").val(result.mainContactName);


                    }

         ");
                WriteLiteral(@"       }
            });
        }
        //============================ Thu chi ==============================


        function OpenModalThuChi(idtran, tranType) {

            ShowWaiting();
            $(""#form-thuchi"").load(""/tranfin/_PartialTranFinForm/"" + idtran, function () {
                HideWaiting();
                debugger;
                if (tranType != """") // set mac dinh thu/chi khi tao moi
                {
                    $(""#TranType"").val(tranType);
                }

                $("".date"").datepicker({
                    format: ""dd/mm/yyyy""
                }).on('changeDate', function (e) {
                    $(this).datepicker('hide');
                });
                $(""#modal-thuchi-detail"").modal();
            });
        }



        function LoadTransactionFinList() {
            let contractId = $(""#Contract_Id"").val();
            ShowWaiting();
            $(""#load-tran-thu"").load(""/TranFin/_PartialThuByContract?contractId="" + c");
                WriteLiteral(@"ontractId, function () {
                HideWaiting();
            });
            ShowWaiting();
            $(""#load-tran-chi"").load(""/TranFin/_PartialChiByContract?contractId="" + contractId, function () {
                HideWaiting();
            });
        }




        function SaveThuChi() {

            var thuchiObj = FormToObject(""#form-thuchi"", null);
            thuchiObj.ContractId = $(""#Contract_Id"").val();
            thuchiObj.TranDate = ConverFormatDate($(""#TranDate"").val());
            thuchiObj.InvoiceDate = ConverFormatDate($(""#InvoiceDate"").val());
            thuchiObj.CategoryId = 0;
            thuchiObj.CategoryName = $(""#CategoryName"").val();
            $.ajax({
                type: ""POST"",
                contentType: 'application/json; charset=utf-8',
                url: ""/TranFin/SaveTranFin"",
                dataType: 'json',
                data: JSON.stringify(thuchiObj),
                beforeSend: function () {
                    ShowWaiting(");
                WriteLiteral(@");
                },
                success: function (res) {

                    HideWaiting();
                    if (res.isSuccess === true) {
                        bootbox.alert(AlertSuccess(""Lưu dữ liệu thành công""), function () {
                            $(""#modal-thuchi-detail"").modal(""hide"");
                            LoadTransactionFinList();
                        });
                    } else {
                        bootbox.alert(AlertFail(res.errorMessage), function () {
                            $(""#modal-thuchi-detail"").modal(""hide"");
                        });
                    }

                }
            });
        }


        function DeleteThuChi(thuchiId) {

            var conf = bootbox.confirm(""Bạn có chắc muốn xoá khoản thu/chi này?"", function () {
                if (conf) {
                    $.ajax({
                        type: ""GET"",
                        contentType: 'application/json; charset=utf-8',
                      ");
                WriteLiteral(@"  url: ""/TranFin/DeleteThuChi?thuchiId="" + thuchiId,
                        success: function (result) {
                            bootbox.alert(AlertSuccess(""Đã xoá thu chi""), function () {
                                LoadTransactionFinList();
                            });

                        }
                    });
                }
            });


        }




        function downloadFileFromServer(filePath) {
            // Use fetch API to fetch the file contents
            fetch(filePath)
                .then(response => {
                    // Check if response is successful
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.blob(); // Convert response to a blob object
                })
                .then(blob => {
                    // Create a download link
                    const url = URL.createObjectURL(blob);
           ");
                WriteLiteral(@"         const a = document.createElement('a');
                    a.href = url;
                    a.download = filePath.substring(filePath.lastIndexOf('/') + 1); // Set the download filename
                    document.body.appendChild(a); // Append the link to the DOM
                    a.click(); // Simulate a click to trigger the download
                    a.remove(); // Clean up the link element
                    URL.revokeObjectURL(url); // Release the object URL
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
        }








        function ListContractPromotion() {
            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/Contract/ListContractPromotion?contractId="" + $(""#Contract_Id"").val(),
                success: function (result) {

                    let htmlitemsDe");
                WriteLiteral(@"vice = """";
                    let htmlitemsMoney = """";
                    if (result.length > 0)
                    {
                        
                        $.each(result, function (index, value)
                        {
                            if (value.promotionType == ""device"") {
                                htmlitemsDevice = htmlitemsDevice + ""<tr><td>"" + value.name + ""</td>""
                                    + ""</td><td>"" + value.unit + ""</td>""
                                    + ""</td><td>"" + value.quanti + ""</td>""
                                    + ""</td><td class='number-divide'>"" + value.price + ""</td>""
                                    + ""</td><td class='number-divide'>"" + value.total + ""</td>""
                                    + ""</td><td>"" + value.actionBy + ""</td>""
                                    + ""</td><td>"" + value.createdDate + ""</td>""
                                    + ""</td><td>"" + value.note + ""</td>""
                                  ");
                WriteLiteral(@"  + ""</td><td class='text-center'><span class='fa fa-edit' onclick='OpenPromotionForm("" + value.id + "",\"""" + value.promotionType +""\"")' ></span>&nbsp;<span class='fa fa-trash' onclick='DeletePromotion("" + value.id + "")' ></span></td>""
                                    + ""</tr>"";
                            }
                            else
                            {
                                htmlitemsMoney = htmlitemsMoney
                                    + ""</td><td class='number-divide'>"" + value.total + ""</td>""
                                    + ""</td><td>"" + value.actionBy + ""</td>""
                                    + ""</td><td>"" + value.createdDate + ""</td>""
                                    + ""</td><td>"" + value.note + ""</td>""
                                    + ""</td><td class='text-center'><span class='fa fa-edit' onclick='OpenPromotionForm("" + value.id + "",\"""" + value.promotionType +""\"")' ></span>&nbsp;<span class='fa fa-trash' onclick='DeletePromotion("" + value.id +");
                WriteLiteral(@" "")' ></span></td>""
                                    + ""</tr>"";
                            }
                           
                        });
                        $(""#tbl-promotion-list"").html(htmlitemsDevice);
                        $(""#tbl-promotion-money-list"").html(htmlitemsMoney);

                    } else {
                        if (htmlitemsDevice == """") {
                            $(""#tbl-promotion-list"").html(""<tr><td colspan='7'>Chưa có thiết bị nào được cấp</td></tr>"");
                        } else {
                            $(""#tbl-promotion-money-list"").html(""<tr><td colspan='7'>Chưa cấp tiền</td></tr>"");
                        }
                        
                    }
                    FormatNumberDevide();
                }
            });
        }









    </script>

");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<DAL.Models.Contract.ContractLayoutViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
