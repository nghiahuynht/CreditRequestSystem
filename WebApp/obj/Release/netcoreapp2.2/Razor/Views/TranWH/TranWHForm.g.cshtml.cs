#pragma checksum "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f2278cbea4348144f7c67be9978287072b62ca67"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_TranWH_TranWHForm), @"mvc.1.0.view", @"/Views/TranWH/TranWHForm.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/TranWH/TranWHForm.cshtml", typeof(AspNetCore.Views_TranWH_TranWHForm))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 2 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
using DAL;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f2278cbea4348144f7c67be9978287072b62ca67", @"/Views/TranWH/TranWHForm.cshtml")]
    public class Views_TranWH_TranWHForm : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<DAL.Models.WareHouse.WHTranFormViewModel>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datepicker/datepicker3.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("href", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatables-bs4/css/dataTables.bootstrap4.css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/jquery.validate.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datepicker/bootstrap-datepicker.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatable/jquery.datatable.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/datatables-bs4/js/dataTables.bootstrap4.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/plugins/custom-thousands-separator/dist/number-divider.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 3 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
  
    string codeTitle = Model.WhTranForm.Id != 0 ? ": " + Model.WhTranForm.Code : string.Empty;
    ViewData["Title"] = "Phiếu kho" + codeTitle;
    Layout = "~/Views/Shared/_Layout.cshtml";

#line default
#line hidden
            DefineSection("styles", async() => {
                BeginContext(278, 8, true);
                WriteLiteral("\r\n\r\n    ");
                EndContext();
                BeginContext(286, 69, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "f2278cbea4348144f7c67be9978287072b62ca676324", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(355, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(361, 87, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "f2278cbea4348144f7c67be9978287072b62ca677656", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(448, 387, true);
                WriteLiteral(@"

    <style>
        #btn-add-todetail {
            font-size: 9pt !important;
        }

        .text-display-money {
            position: relative;
            top: 4px;
            font-size: 14pt;
        }

        .typeahead {
            width: 100% !important;
        }

        .badge-status {
            font-weight: bold;
        }


    </style>
");
                EndContext();
            }
            );
            BeginContext(838, 157, true);
            WriteLiteral("<section class=\"content-header\">\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row mb-2\">\r\n            <div class=\"col-sm-6\">\r\n                <h1>");
            EndContext();
            BeginContext(997, 17, false);
#line 39 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                Write(ViewData["Title"]);

#line default
#line hidden
            EndContext();
            BeginContext(1015, 171, true);
            WriteLiteral("</h1>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n                <ol class=\"breadcrumb float-sm-right\">\r\n                    <li class=\"breadcrumb-item\">\r\n\r\n");
            EndContext();
#line 45 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                          
                            if (Model.WhTranForm.Status == Contanst.WHTran_Status_Draft && ViewBag.Role == "QuanLy")
                            {

#line default
#line hidden
            BeginContext(1363, 107, true);
            WriteLiteral("                                <input type=\"button\" value=\"Lưu\" class=\"btn btn-primary\" id=\"btn-save\" />\r\n");
            EndContext();
#line 49 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"

                                if (ViewBag.Role == "QuanLy" && Model.WhTranForm.Id > 0)
                                {

#line default
#line hidden
            BeginContext(1597, 279, true);
            WriteLiteral(@"                                    <input type=""button"" value=""Duyệt"" class=""btn btn-success"" id=""btn-approve"" style=""margin-left:5px;"" />
                                    <input type=""button"" value=""Hủy"" class=""btn btn-danger"" id=""btn-cancel"" style=""margin-right:5px;"" />
");
            EndContext();
#line 54 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                }
                               

                            }
                        

#line default
#line hidden
            BeginContext(2004, 307, true);
            WriteLiteral(@"


                    </li>

                </ol>
            </div>
        </div>
    </div><!-- /.container-fluid -->
</section>
<section class=""content"">
    <div class=""card"">
        <div class=""card-body"">
            <form class=""form-horizontal"" id=""form-tranform"">
                ");
            EndContext();
            BeginContext(2312, 36, false);
#line 73 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
           Write(Html.HiddenFor(x => x.WhTranForm.Id));

#line default
#line hidden
            EndContext();
            BeginContext(2348, 18, true);
            WriteLiteral("\r\n                ");
            EndContext();
            BeginContext(2367, 40, false);
#line 74 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
           Write(Html.HiddenFor(x => x.WhTranForm.Status));

#line default
#line hidden
            EndContext();
            BeginContext(2407, 389, true);
            WriteLiteral(@"
                <div class=""row"">
                    <div class=""col-md-6"">
                        <div class=""form-group row"">
                            <label class=""col-md-3 col-form-label"">Loại phiếu</label>
                            <div class=""col-md-9"">
                                <select class=""form-control"" id=""WhTranForm_TranType"" name=""WhTranForm.TranType"">
");
            EndContext();
#line 81 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                      
                                        foreach (var item in Model.lstWTrantype)
                                        {
                                            string selected = item.Value == Model.WhTranForm.TranType ? "selected='selected'" : string.Empty;

#line default
#line hidden
            BeginContext(3104, 51, true);
            WriteLiteral("                                            <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3155, "\"", 3174, 1);
#line 85 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
WriteAttributeValue("", 3163, item.Value, 3163, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3175, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(3178, 8, false);
#line 85 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                                                    Write(selected);

#line default
#line hidden
            EndContext();
            BeginContext(3187, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(3189, 9, false);
#line 85 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                                                               Write(item.Text);

#line default
#line hidden
            EndContext();
            BeginContext(3198, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 86 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                        }
                                    

#line default
#line hidden
            BeginContext(3291, 478, true);
            WriteLiteral(@"                                </select>
                            </div>
                        </div>

                        <div class=""form-group row"">
                            <label class=""col-form-label col-sm-3"">Ngày lập phiếu *</label>
                            <div class=""col-sm-9"">
                                <div class=""input-group date"">
                                    <input type=""text"" id=""WhTranForm_WHDate"" name=""WhTranForm.WHDate""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3769, "\"", 3901, 1);
#line 96 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
WriteAttributeValue("", 3777, Model.WhTranForm.WHDate.HasValue?Model.WhTranForm.WHDate.Value.ToString("dd/MM/yyyy"):DateTime.Now.ToString("dd/MM/yyyy"), 3777, 124, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3902, 551, true);
            WriteLiteral(@" class=""form-control"">
                                    <span class=""input-group-addon group-date-icon""><i class=""far fa-calendar-alt""></i></span>
                                </div>
                            </div>
                        </div>
                        <div class=""form-group row"">
                            <label class=""col-form-label col-sm-3"">Người lập phiếu *</label>
                            <div class=""col-sm-9"">
                                <input type=""text"" class=""form-control"" readonly=""readonly""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4453, "\"", 4490, 1);
#line 104 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
WriteAttributeValue("", 4461, Model.WhTranForm.CreatedBy, 4461, 29, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4491, 426, true);
            WriteLiteral(@" />
                            </div>
                        </div>
                        <div class=""form-group row"">
                            <label class=""col-form-label col-sm-3"">Chứng từ liên quan</label>
                            <div class=""col-sm-9"">
                                <div class=""row"">
                                    <div class=""col-sm-11"">
                                        ");
            EndContext();
            BeginContext(4918, 77, false);
#line 112 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                   Write(Html.TextBoxFor(x => x.WhTranForm.ReferCode, new { @class = "form-control" }));

#line default
#line hidden
            EndContext();
            BeginContext(4995, 849, true);
            WriteLiteral(@"
                                    </div>
                                    <div class=""col-sm-1"">
                                        <button class=""btn btn-sm btn-primary"" type=""button""><i class=""fa fa-search""></i></button>
                                    </div>
                                </div>


                            </div>
                        </div>


                    </div>
                    <div class=""col-md-6"">
                        <div class=""form-group row"" id=""row-kho-xuat"">
                            <label class=""col-md-3 col-form-label"">Kho</label>
                            <div class=""col-md-9"">
                                <select class=""form-control"" id=""WhTranForm_WHCode"" name=""WhTranForm.WHCode"">
                                    <option value=""""></option>
");
            EndContext();
#line 131 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                      
                                        foreach (var item in Model.lstWH)
                                        {
                                            string selected = item.Value == Model.WhTranForm.WHCode ? "selected='selected'" : string.Empty;

#line default
#line hidden
            BeginContext(6143, 51, true);
            WriteLiteral("                                            <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 6194, "\"", 6213, 1);
#line 135 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
WriteAttributeValue("", 6202, item.Value, 6202, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(6214, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(6217, 8, false);
#line 135 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                                                    Write(selected);

#line default
#line hidden
            EndContext();
            BeginContext(6226, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(6228, 9, false);
#line 135 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                                                               Write(item.Text);

#line default
#line hidden
            EndContext();
            BeginContext(6237, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 136 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                        }
                                    

#line default
#line hidden
            BeginContext(6330, 334, true);
            WriteLiteral(@"                                </select>
                            </div>
                        </div>
                        


                        <div class=""form-group row"">
                            <label class=""col-form-label col-sm-3"">Tình trạng</label>
                            <div class=""col-sm-9"">
");
            EndContext();
#line 147 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                  
                                    if (Model.WhTranForm.Status == Contanst.WHTran_Status_Draft)
                                    {

#line default
#line hidden
            BeginContext(6837, 109, true);
            WriteLiteral("                                        <span class=\"badge badge-warning badge-status\">Chờ thực hiện</span>\r\n");
            EndContext();
#line 151 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                    }
                                    else if (Model.WhTranForm.Status == Contanst.WHTran_Status_Completed)
                                    {

#line default
#line hidden
            BeginContext(7131, 106, true);
            WriteLiteral("                                        <span class=\"badge badge-success badge-status\">Hoàn thành</span>\r\n");
            EndContext();
#line 155 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                    }
                                    else if (Model.WhTranForm.Status == Contanst.WHTran_Status_Cancel)
                                    {

#line default
#line hidden
            BeginContext(7419, 98, true);
            WriteLiteral("                                        <span class=\"badge badge-cancel badge-status\">Huỷ</span>\r\n");
            EndContext();
#line 159 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                                    }

                                

#line default
#line hidden
            BeginContext(7593, 290, true);
            WriteLiteral(@"                            </div>
                        </div>
                        <div class=""form-group row"">
                            <label class=""col-form-label col-sm-3"">Ghi chú</label>
                            <div class=""col-sm-9"">
                                ");
            EndContext();
            BeginContext(7884, 86, false);
#line 167 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                           Write(Html.TextAreaFor(x => x.WhTranForm.Note, new { @class = "form-control", @rows = "5" }));

#line default
#line hidden
            EndContext();
            BeginContext(7970, 200, true);
            WriteLiteral("\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </form>\r\n\r\n        </div>\r\n        <div class=\"card-body\">\r\n");
            EndContext();
#line 179 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
              
                if (Model.WhTranForm.Id > 0)
                {

#line default
#line hidden
            BeginContext(8251, 823, true);
            WriteLiteral(@"                    <div class=""row"">
                        <div class=""col-sm-4""><strong>Nhập từ khoá tìm sản phẩm cần nhập/xuất</strong></div>
                        <div class=""col-sm-8"">
                            <div class=""input-group mb-3"">
                                <input type=""text"" class=""form-control"" placeholder=""Mã sản phẩm hoặc tên sản phẩm"" id=""txt-product-autocomplete"" name=""txt-product-autocomplete"" autocomplete=""off"" autofocus>
                                <div class=""input-group-append"">
                                    <button class=""btn btn-sm btn-primary"" id=""btn-add-todetail"" type=""button""><i class=""fa fa-plus-circle""></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
");
            EndContext();
#line 193 "F:\Projects\OnSVN\IchiWeb\WebApp\Views\TranWH\TranWHForm.cshtml"
                }
            

#line default
#line hidden
            BeginContext(9108, 799, true);
            WriteLiteral(@"


            <table class=""table table-bordered"" id=""table-item-detail"">
                <thead>
                    <tr>
                        <th width=""100px"">Mã hàng</th>
                        <th width=""250px"">Tên mặt hàng </th>
                        <th width=""100px"">Đơn vị</th>
                        <th width=""100px"">SL</th>
                        <th width=""150px"">Giá</th>
                        <th width=""150px"">Thành tiền</th>
                        <!--<th width=""150px"">Số lô</th>
                        <th width=""150px"">Hạn dùng</th>-->
                        <th width=""50px""></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
    </div>



</section>


");
            EndContext();
            DefineSection("scripts", async() => {
                BeginContext(9924, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(9930, 47, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f2278cbea4348144f7c67be9978287072b62ca6726157", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(9977, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(9983, 68, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f2278cbea4348144f7c67be9978287072b62ca6727413", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(10051, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(10057, 63, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f2278cbea4348144f7c67be9978287072b62ca6728671", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(10120, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(10126, 76, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f2278cbea4348144f7c67be9978287072b62ca6729929", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(10202, 6, true);
                WriteLiteral("\r\n    ");
                EndContext();
                BeginContext(10208, 83, false);
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "f2278cbea4348144f7c67be9978287072b62ca6731187", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                EndContext();
                BeginContext(10291, 11313, true);
                WriteLiteral(@"
    <script>
        $(document).ready(function ()
        {
            $("".date"").datepicker({
                format: ""dd/mm/yyyy""
            }).on('changeDate', function (e) {
                $(this).datepicker('hide');
            });


            $(""#btn-save"").click(function () {
                SaveTranForm();
            });

            AutoCompleteSearchProduct();
            $(""#btn-add-todetail"").click(function () {
                PickupItemToTranWH();
            });


            if ($(""#WhTranForm_Id"").val() !== ""0"")
            {
                GetItemByTranWHId(""no"");
            }

            $(""#btn-approve"").click(function () {
                ChangeStatusTranWH(""DaThucHien"");
            });

            $(""#btn-cancel"").click(function () {
                ChangeStatusTranWH(""Huy"");
            });


        });

        

        function validForm() {
            var resutlValid = $(""#form-tranform"").validate({
                rules: {
  ");
                WriteLiteral(@"                  ""WhTranForm.WHDate"": ""required"",
                },
                messages: {
                    ""WhTranForm.WHDate"": null,
                }
            }).form();
            return resutlValid;
        }

        function SaveTranForm() {
            var valid = validForm();
            if (valid) {
                var dataSave = FormToObject(""#form-tranform"", ""WhTranForm."");
                dataSave.WHDate = ConverFormatDate($(""#WhTranForm_WHDate"").val());
                $.ajax({
                    type: ""POST"",
                    contentType: 'application/json; charset=utf-8',
                    url: ""/TranWH/SaveTranWHForm"",
                    dataType: 'json',
                    data: JSON.stringify(dataSave),
                    beforeSend: function () {
                        ShowWaiting();
                    },
                    success: function (res) {
                        HideWaiting();
                        if (res.isSuccess === true) ");
                WriteLiteral(@"{
                            bootbox.alert(AlertSuccess(""Lưu dữ liệu thành công""), function () {
                                location.href = ""/TranWH/TranWHForm/"" + res.longValReturn;
                            });
                        } else {
                            bootbox.alert(AlertFail(res.errorMessage));
                        }

                    }
                });
            }
        }

        function AutoCompleteSearchProduct() {
            var urlAutoComplete = ""/Invoice/SearhProductAutoComplete"";

            $(""#txt-product-autocomplete"").typeahead({
                hint: true,
                highlight: true,
                minLength: 3,
                source: function (request, response) {
                    $.ajax({
                        url: urlAutoComplete,
                        data: JSON.stringify({ Keyword: request, Type: null }),
                        dataType: ""json"",
                        type: ""POST"",
                       ");
                WriteLiteral(@" contentType: ""application/json; charset=utf-8"",
                        success: function (data) {
                            items = [];
                            map = {};
                            $.each(data, function (i, item) {
                                var displayList = ""<div class='row' style='width:100%'>"" +
                                    ""<div class='col-md-2'>"" + item.productCode + ""</div>"" +
                                    ""<div class='col-md-6'>"" + item.productName + ""</div>"" +
                                    ""<div  class='col-md-2'>"" + item.unit + ""</div>"" +
                                    ""<div  class='col-md-2'>"" + item.price + ""</div>"" +
                                    ""</div>"";
                                map[displayList] = {
                                    productCode: item.productCode,
                                    productName: item.productName,
                                    unit: item.unit,
                               ");
                WriteLiteral(@"     price: item.price
                                };
                                items.push(displayList);
                            });
                            response(items);
                            $("".dropdown-menu"").css(""height"", ""auto"");
                        },
                        error: function (response) {
                            alert(response.responseText);
                        },
                        failure: function (response) {
                            alert(response.responseText);
                        }

                    });
                },
                updater: function (item) {

                    var proSelected = {
                        ProductCode: map[item].productCode,
                        ProductName: map[item].productName,
                        Unit: map[item].unit,
                        Quanti: 1,
                        Price: map[item].price,
                        VAT: 0
                    };
");
                WriteLiteral(@"
                    PickupItemToTranWH(proSelected);

                    return map[item].productCode + ""-"" + map[item].productName + ""-"" + map[item].unit;
                },


            });



        }





        function PickupItemToTranWH(itemSelected) {

            itemSelected.WHTranId = $(""#WhTranForm_Id"").val();

            $.ajax({
                type: ""POST"",
                contentType: 'application/json; charset=utf-8',
                url: ""/TranWH/PickupProductToWHTranItem"",
                dataType: 'json',
                data: JSON.stringify(itemSelected),
                beforeSend: function () {
                    ShowWaiting();
                },
                success: function (res) {
                    ResetAutocomplteProduct();
                    GetItemByTranWHId(""no"");
                    HideWaiting();
                }
            });



        }

        function ResetAutocomplteProduct() {
            $(""#txt-product-autocom");
                WriteLiteral(@"plete"").val(null);

        }

        function GetItemByTranWHId(ispromotion) {
            var tranWhId = $(""#WhTranForm_Id"").val();
            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/TranWH/GetItemByTranWHId?tranWHId="" + tranWhId + ""&promtion="" + ispromotion,
                success: function (result) {

                    InitTableItemDetail(result.items);
                    FormatNumberDevide();
                }
            });
        }

        function FormatNumberDevide() {
            $('.number-divide').divide({
                delimiter: ',',
                divideThousand: true,
                delimiterRegExp: /[\.\,\s]/g

            });
        }

        function InitTableItemDetail(arrData) {

            $(""#table-item-detail"").DataTable({
                data: arrData,
                paging: false,
                orderMulti: false,
                lengthChange: false,");
                WriteLiteral(@"
                filter: false,
                ordering: false,
                info: false,
                columns: [
                    { ""data"": ""productCode"" },
                    { ""data"": ""productName"" },
                    { ""data"": ""unit"" },
                    {
                        ""data"": ""quanti"", ""render"": function (data, type, row, meta) {
                            return RenderQuantiDetail(data, row[""id""], false);
                        }
                    },
                    {
                        ""data"": ""price"", ""render"": function (data, type, row, meta) {
                            return RenderTotalItem(data, row[""id""], false);
                        }
                    },
                    {
                        ""data"": ""total"", ""render"": function (data, type, row, meta) {
                            return RenderTotalItem(data);
                        }
                    },
                    //{ ""data"": ""lotNo"" },
                 ");
                WriteLiteral(@"  // { ""data"": ""expireDate"" },
                    {
                        ""data"": ""id"", ""width"": ""5%"", ""render"": function (data, type, row, meta) {
                            return RenderDeleteDetailBtn(data);
                        }
                    },
                    
                ],
                fixedColumns: true,
                destroy: true


            });
        }

        function RenderQuantiDetail(quanti, iditem) {
            return ""<input type='number' id='txt-proc-quanti-"" + iditem + ""' onblur='UpdateItemRow("" + iditem + "")' value='"" + quanti + ""' class='number-divide' />"";
        }

        
        function RenderTotalItem(total) {
            return ""<div style='width:100%;text-align:right;'><span class='number-divide' style='text-align:right;font-weight:normal;font-size:11pt;'>"" + total + ""</span></div>"";
        }

        function RenderDeleteDetailBtn(itemId) {
            return ""<div class='div-table-action'><span class='fa fa-trash btn-");
                WriteLiteral(@"delete' onclick='DeleteItemFromTranWHId("" + itemId + "")' ></span></div>"";
        }
       


        function UpdateItemRow(itemId) {

            var quanti = parseFloat($(""#txt-proc-quanti-"" + itemId).val());
  

            var postParam = {
                ItemId: itemId,
                Quanti: quanti,
            };

            $.ajax({
                type: ""POST"",
                contentType: 'application/json; charset=utf-8',
                url: ""/TranWH/UpdateTranWHItemRow"",
                dataType: 'json',
                data: JSON.stringify(postParam),
                beforeSend: function () {
                    ShowWaiting();
                },
                success: function (res) {
                    HideWaiting();
                    GetItemByTranWHId(""no"");
                }
            });


 

        }


        function DeleteItemFromTranWHId(itemId) {
            $.ajax({
                type: ""GET"",
                contentType: 'applicatio");
                WriteLiteral(@"n/json; charset=utf-8',
                url: ""/TranWH/DeleteItemFromTranWH?tranWHItemId="" + itemId,
                success: function (result) {
                    GetItemByTranWHId(""no"");
                }
            });
        }

        function ChangeStatusTranWH(desStatus) {
            let tranWhId = $(""#WhTranForm_Id"").val();
            $.ajax({
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                url: ""/TranWH/ChangeStausTranWH?tranWHId="" + tranWhId + ""&status="" + desStatus,
                success: function (result) {
                    if (result.isSuccess === true) {
                        bootbox.alert(AlertSuccess(""Chuyển trạng thái thành công""), function () {
                            location.href = ""/TranWH/TranWHForm/"" + tranWhId;
                        });
                    } else {
                        bootbox.alert(AlertFail(res.errorMessage));
                    }
                }
            })");
                WriteLiteral(";\r\n            \r\n\r\n        }\r\n\r\n\r\n    </script>\r\n");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<DAL.Models.WareHouse.WHTranFormViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
