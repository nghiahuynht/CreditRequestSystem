
@model DAL.Models.UserInfo.PermissionUserParModel
<div class="modal-content">
    <div class="modal-header p-2">
        <h5 class="modal-title">Phân quyên</h5>

    </div>
    <div class="content-body">
        <div class="modal-body p-3">
            <form id="frmPermissionUser">
                <input id="a_userId" hidden value="@Model.UserId" />
                <fieldset class="border rounded-1 pb-3 pe-3 ps-3 mb-3">
                    <legend class="float-none w-auto px-3 text-uppercase fw-bold fs-3 mb-0 text-blue">Phân quyền </legend>


                    <div class="row">
                        <div class="col-md-4">
                            <label class="form-label">Menu: <span class="text-red">*</span></label>
                            <select class="form-control" id="menu" name="a_menu" onchange="handelchangeMenu()">
                                <option value=""></option>
                                @{
                                    foreach (var item in Model.LstMenu)
                                    {

                                        <option data-prefix="@item.MenuPrefix" value="@item.Id">@item.Name</option>
                                    }
                                }
                            </select>
                        </div>
                        <div class="col-md-8 ">
                            <label class="form-label d-block">Quyền thao tác:</label>
                            <div class="d-flex align-items-center gap-3">
                                <div class="form-check pr-2 mr-2">
                                    <input class="form-check-input" type="checkbox" id="them" name="permissions" value="ADD">
                                    <label class="form-check-label" for="them">Thêm</label>
                                </div>
                                <div class="form-check pr-2 mr-2">
                                    <input class="form-check-input" type="checkbox" id="xoa" name="permissions" value="DELETE">
                                    <label class="form-check-label" for="xoa">Xóa</label>
                                </div>
                                <div class="form-check pr-2 mr-2">
                                    <input class="form-check-input" type="checkbox" id="sua" name="permissions" value="EDIT">
                                    <label class="form-check-label" for="sua">Sửa</label>
                                </div>
                                <div class="form-check pr-2 mr-2">
                                    <input class="form-check-input" type="checkbox" id="duyet" name="permissions" value="APPROVE">
                                    <label class="form-check-label" for="duyet">Duyệt</label>
                                </div>
                                <div class="form-check pr-2 mr-2">
                                    <input class="form-check-input" type="checkbox" id="phanquyen" name="permissions" value="PERMISSION">
                                    <label class="form-check-label" for="phanquyen">Phân quyền</label>
                                </div>
                            </div>

                        </div>



                    </div>
                </fieldset>

                <fieldset class="border rounded-1 pb-3 pe-3 ps-3 mb-3">
                    <legend class="float-none w-auto px-3 text-uppercase fw-bold fs-3 mb-0 text-blue">Thông tin phân quyền </legend>

                    <table class="table table-bordered" width="100%">
                        <thead>
                            <tr>
                                <th>Menu</th>
                                <th>Quyền</th>
                                 <th></th>
                              
                            </tr>
                        </thead>
                        <tbody id="table_thong_tin_quyen_theo_menu">
                            @foreach (var item in Model.LstPermissionMenu)
                            {
                            <tr>
                                <td>
                                    @item.Menu
                                </td>
                                <td>
                                    @item.PermissionNames
                                </td>
                                <td style="text-align:center;">
                                   
                                    <span class="fa fa-trash" onclick="RemovePermissionByUserIdMenuId(@item.MenuId)"></span>
                                </td>
                            </tr>
                            }
                        </tbody>
                    </table>
                </fieldset>
            </form>
        </div>
    </div>
    <div class="modal-footer p-0">
        <button type="button" class="btn btn-primary btn-footer" id="btnLuuTaoDot" onclick="CreatePerssion();"><i class="fas fa-save me-1"></i>&nbsp;Lưu</button>
        <button type="button" class="btn btn-secondary btn-footer" onclick="closeModal_CreatePerssion();" data-bs-dismiss="modal"><i class="fas fa-times me-1"></i>&nbsp;Đóng</button>
    </div>
</div>